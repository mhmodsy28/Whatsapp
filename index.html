<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tro Wa - Ù…Ø±ÙƒØ² Ù†Ø³Ø® ÙˆØ§ØªØ³Ø§Ø¨</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0} html,body{height:100%}
    body{
      font-family:'Cairo',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      --pri:#25d366;--pri2:#128c7e;--pri3:#075e54;--gold:#ffd700;--text:#fff;
      --glass:rgba(255,255,255,.12);--hover:rgba(255,255,255,.14);
      background:linear-gradient(270deg,var(--pri),var(--pri2),var(--pri3));
      background-size:600% 600%;animation:bgMove 16s ease infinite;color:var(--text);
    }
    @keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* SPLASH */
    .splash{position:fixed;inset:0;background:linear-gradient(135deg,var(--pri3),var(--pri2),var(--pri));
      display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3000;animation:fadeOut 1s ease 2.8s forwards}
    .slogo{width:110px;height:110px;border-radius:50%;display:flex;align-items:center;justify-content:center;
      background:radial-gradient(circle at 30% 20%,var(--pri) 0%,var(--pri2) 60%,var(--gold) 100%);
      box-shadow:0 0 18px rgba(37,211,102,.9),0 0 30px rgba(255,215,0,.6);animation:spin 5s linear infinite,glow 3s ease-in-out infinite}
    .slogo::before{content:"ğŸ’¬";font-size:42px}
    .splash h1{margin-top:14px;font-size:28px;font-weight:800;
      background:linear-gradient(90deg,var(--pri),var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:up .8s ease}
    @keyframes spin{to{transform:rotate(360deg)}} @keyframes glow{0%,100%{box-shadow:0 0 14px rgba(37,211,102,1),0 0 22px rgba(255,215,0,.8)}50%{box-shadow:0 0 26px rgba(37,211,102,1),0 0 36px rgba(255,215,0,1)}}
    @keyframes up{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}} @keyframes fadeOut{to{opacity:0;visibility:hidden}}

    /* NAVBAR */
    .nav{position:sticky;top:0;z-index:1200;background:rgba(0,0,0,.55);backdrop-filter:blur(10px);
      display:flex;align-items:center;justify-content:space-between;padding:12px 16px;box-shadow:0 4px 16px rgba(0,0,0,.35)}
    .menu{font-size:26px;cursor:pointer}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;
      background:radial-gradient(circle at 30% 20%,var(--pri),var(--pri2),var(--gold));box-shadow:0 0 10px rgba(37,211,102,.8)}
    .logo::before{content:"ğŸ’¬";font-size:18px}
    .brand span{font-weight:800;font-size:20px;background:linear-gradient(90deg,var(--pri),var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .actions{display:flex;align-items:center;gap:8px}
    .btn{border:none;border-radius:12px;padding:8px 12px;background:#fff;color:#06473f;font-weight:700;cursor:pointer}
    .btn:hover{background:var(--pri);color:#fff}

    /* SIDEBAR */
    .sidebar{position:fixed;top:0;right:0;height:100%;width:0;overflow-x:hidden;z-index:2000;
      background:linear-gradient(180deg,rgba(7,94,84,.98),rgba(18,140,126,.96));transition:.45s;width:0;box-shadow:-6px 0 22px rgba(0,0,0,.45)}
    .sidebar.open{width:300px}
    .s-close{position:absolute;left:20px;top:16px;font-size:34px;cursor:pointer}
    .s-head{text-align:center;padding:28px 16px;border-bottom:1px solid rgba(255,255,255,.18)}
    .s-head .logo{width:60px;height:60px;margin:0 auto 10px}
    .s-head h3{color:var(--gold);margin-bottom:4px}
    .s-link{display:block;color:#fff;text-decoration:none;padding:12px 26px;font-size:17px;transition:.25s}
    .s-link:hover{background:rgba(255,255,255,.13);padding-right:40px}
    .s-foot{font-size:13px;opacity:.85;text-align:center;margin:14px 0 20px}

    /* FILTER + SEARCH */
    .topbar{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin:14px 12px}
    .chip{background:#fff;color:#075e54;border:none;border-radius:20px;padding:7px 14px;font-weight:800;cursor:pointer}
    .chip.active,.chip:hover{background:var(--pri);color:#fff}
    .search{flex:1;max-width:520px;display:flex;gap:8px;background:rgba(0,0,0,.35);backdrop-filter:blur(8px);
      border-radius:14px;padding:8px 10px;margin:0 auto}
    .search input{flex:1;border:none;background:transparent;color:#fff;outline:none;font-size:15px}
    .search .btn{padding:7px 10px;border-radius:10px}

    /* GRID CARDS */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:16px;padding:16px}
    .card{background:var(--glass);backdrop-filter:blur(8px);border-radius:16px;padding:14px;transition:.3s;position:relative;overflow:hidden}
    .card::after{content:"";position:absolute;inset:auto -40% -40% auto;width:160px;height:160px;background:radial-gradient(circle,rgba(255,255,255,.08),transparent 60%);transform:rotate(25deg)}
    .card:hover{transform:translateY(-6px);background:var(--hover)}
    .thumb{width:86px;height:86px;border-radius:16px;object-fit:cover;margin:6px auto 10px;display:block;box-shadow:0 6px 16px rgba(0,0,0,.35)}
    h3{font-size:18px;margin:6px 0;text-align:center}
    .desc{font-size:13px;opacity:.95;text-align:center;min-height:36px}
    .meta{display:flex;justify-content:center;gap:10px;margin:8px 0 10px;font-size:12px;opacity:.95}
    .d-badge{background:rgba(0,0,0,.35);padding:4px 8px;border-radius:10px}
    .stars{display:flex;justify-content:center;gap:4px;margin-bottom:8px}
    .star{font-size:20px;cursor:pointer;filter:drop-shadow(0 2px 2px rgba(0,0,0,.2));transition:.15s}
    .star:hover{transform:scale(1.15)}
    .rate-avg{font-size:12px;text-align:center;opacity:.9;margin-bottom:8px}
    .cta{display:flex;justify-content:center;gap:8px;margin-top:8px}
    .a-btn{background:var(--pri);color:#fff;text-decoration:none;border-radius:10px;padding:8px 12px;font-weight:800}
    .a-btn:hover{background:var(--pri2)}
    .tag{position:absolute;top:10px;left:10px;font-size:11px;background:rgba(0,0,0,.45);padding:4px 8px;border-radius:10px}

    /* TOAST */
    .toast{position:fixed;bottom:20px;right:20px;background:rgba(0,0,0,.8);color:#fff;padding:10px 14px;border-radius:10px;opacity:0;transform:translateY(10px);transition:.3s;z-index:2500}
    .toast.show{opacity:1;transform:translateY(0)}

    /* BACK TO TOP */
    #backToTop{position:fixed;bottom:24px;left:24px;width:44px;height:44px;border:none;border-radius:50%;
      background:var(--pri);color:#fff;font-size:22px;cursor:pointer;box-shadow:0 4px 14px rgba(0,0,0,.35);display:none;z-index:1500}
    #backToTop:hover{background:var(--pri2)}

    /* small */
    @media (max-width:480px){
      .grid{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
      .sidebar.open{width:92%}
    }
  </style>
</head>
<body>
  <!-- SPLASH -->
  <div class="splash" id="splash">
    <div class="slogo"></div>
    <h1>Tro Wa</h1>
  </div>

  <!-- NAV -->
  <header class="nav">
    <div class="menu" onclick="toggleSidebar()">â˜°</div>
    <div class="brand">
      <div class="logo"></div>
      <span>Tro Wa</span>
    </div>
    <div class="actions">
      <button class="btn" onclick="enableNoti()">ğŸ”” ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</button>
      <button class="btn" onclick="shareApp()">Ù…Ø´Ø§Ø±ÙƒØ©</button>
    </div>
  </header>

  <!-- SIDEBAR -->
  <aside class="sidebar" id="sidebar">
    <div class="s-close" onclick="toggleSidebar()">Ã—</div>
    <div class="s-head">
      <div class="logo"></div>
      <h3>Tro Wa</h3>
      <p>ÙƒÙ„ Ù†Ø³Ø® ÙˆØ§ØªØ³Ø§Ø¨ ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯</p>
    </div>
    <a class="s-link" href="#apps">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a class="s-link" href="https://wa.me/963992320306">ğŸ’¬ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ ÙˆØ§ØªØ³Ø§Ø¨</a>
    <a class="s-link" href="mailto:mhmodsy28@gmail.com">âœ‰ï¸ Ø§Ù„Ø¨Ø±ÙŠØ¯: mhmodsy28@gmail.com</a>
    <a class="s-link" href="https://t.me/trowhatsapp">ğŸ“¢ ÙƒØ±ÙˆØ¨ ØªÙ„ØºØ±Ø§Ù… Ù„Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a>
    <a class="s-link" href="#" onclick="notifyUpdate()">ğŸ”” Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ø¯ÙŠØ« ØªØ¬Ø±ÙŠØ¨ÙŠ</a>
    <div class="s-foot">ØªÙ… ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ù…Ø­Ù…ÙˆØ¯ ØªØ±Ùˆ Â© 2025</div>
  </aside>

  <!-- FILTER + SEARCH -->
  <section class="topbar" id="apps">
    <div class="search">
      <input id="searchInput" type="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù†Ø³Ø®Ø©â€¦ (Ù…Ø«Ø§Ù„: gold, GB, Ø±Ø³Ù…ÙŠ)">
      <button class="btn" onclick="clearSearch()">Ù…Ø³Ø­</button>
    </div>
    <button class="chip active" data-filter="all" onclick="setFilter(this)">Ø§Ù„ÙƒÙ„</button>
    <button class="chip" data-filter="official" onclick="setFilter(this)">Ø±Ø³Ù…ÙŠ</button>
    <button class="chip" data-filter="business" onclick="setFilter(this)">Ø¨ÙŠØ²Ù†Ø³</button>
    <button class="chip" data-filter="gold" onclick="setFilter(this)">Ø°Ù‡Ø¨ÙŠ</button>
    <button class="chip" data-filter="mod" onclick="setFilter(this)">Ù…Ø¹Ø¯Ù„</button>
  </section>

  <!-- GRID -->
  <main class="grid" id="grid">
    <!-- WhatsApp Official -->
    <article class="card official" data-id="whatsapp">
      <span class="tag">Ø±Ø³Ù…ÙŠ</span>
      <img class="thumb" src="https://i.imgur.com/95U6FvA.png" alt="WhatsApp">
      <h3>WhatsApp</h3>
      <p class="desc">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø³Ù…ÙŠ Ù…Ù† ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¢Ù…Ù† ÙˆØ§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª.</p>
      <div class="meta">
        <span class="d-badge">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„Ø§Øª: <b class="dl">0</b></span>
        <span class="d-badge">â­ <b class="avg">0.0</b>/5</span>
      </div>
      <div class="stars" data-for="whatsapp"></div>
      <div class="rate-avg"></div>
      <div class="cta">
        <a class="a-btn" target="_blank" href="https://whatsapp-messenger.ar.uptodown.com/android/download" onclick="trackDownload('whatsapp')">ØªØ­Ù…ÙŠÙ„</a>
      </div>
    </article>

    <!-- WhatsApp Business -->
    <article class="card business" data-id="wabiz">
      <span class="tag">Ø¨ÙŠØ²Ù†Ø³</span>
      <img class="thumb" src="https://i.imgur.com/KfQ1KwO.jpeg" alt="WhatsApp Business">
      <h3>WhatsApp Business</h3>
      <p class="desc">Ø­Ù„ Ù…Ø®ØµØµ Ù„Ù„Ø£Ø¹Ù…Ø§Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„ÙƒØªØ§Ù„ÙˆØ¬ ÙˆØ§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©.</p>
      <div class="meta">
        <span class="d-badge">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„Ø§Øª: <b class="dl">0</b></span>
        <span class="d-badge">â­ <b class="avg">0.0</b>/5</span>
      </div>
      <div class="stars" data-for="wabiz"></div>
      <div class="rate-avg"></div>
      <div class="cta">
        <a class="a-btn" target="_blank" href="https://whatsapp-business.en.divxland.org/download/" onclick="trackDownload('wabiz')">ØªØ­Ù…ÙŠÙ„</a>
      </div>
    </article>

    <!-- GBWhatsApp -->
    <article class="card mod" data-id="gb">
      <span class="tag">Ù…Ø¹Ø¯Ù„</span>
      <img class="thumb" src="https://i.imgur.com/fKNKUZy.png" alt="GBWhatsApp">
      <h3>GBWhatsApp</h3>
      <p class="desc">Ù…Ø²Ø§ÙŠØ§ Ø¥Ø¶Ø§ÙÙŠØ©: ØªØ®ØµÙŠØµ Ø§Ù„Ø«ÙŠÙ…Ø§ØªØŒ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¸Ù‡ÙˆØ±ØŒ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©.</p>
      <div class="meta">
        <span class="d-badge">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„Ø§Øª: <b class="dl">0</b></span>
        <span class="d-badge">â­ <b class="avg">0.0</b>/5</span>
      </div>
      <div class="stars" data-for="gb"></div>
      <div class="rate-avg"></div>
      <div class="cta">
        <a class="a-btn" target="_blank" href="https://upfileapp.9aleh.com/file/gbwhatsapp-apk/" onclick="trackDownload('gb')">ØªØ­Ù…ÙŠÙ„</a>
      </div>
    </article>

    <!-- GBWhatsApp Mas -->
    <article class="card mod" data-id="gbmas">
      <span class="tag">Ù…Ø¹Ø¯Ù„</span>
      <img class="thumb" src="https://i.imgur.com/8wV6z6V.png" alt="GBWhatsApp Mas">
      <h3>GBWhatsApp Mas</h3>
      <p class="desc">Ù…Ù†Ø´Ø· GB â€“ ÙØªØ­ Ù…Ø²Ø§ÙŠØ§ ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø©.</p>
      <div class="meta">
        <span class="d-badge">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„Ø§Øª: <b class="dl">0</b></span>
        <span class="d-badge">â­ <b class="avg">0.0</b>/5</span>
      </div>
      <div class="stars" data-for="gbmas"></div>
      <div class="rate-avg"></div>
      <div class="cta">
        <a class="a-btn" target="_blank" href="https://upfileapp.9aleh.com/file/gbwhatsapp-activator-apk/" onclick="trackDownload('gbmas')">ØªØ­Ù…ÙŠÙ„</a>
      </div>
    </article>

    <!-- ARWhatsApp -->
    <article class="card mod" data-id="ar1">
      <span class="tag">Ù…Ø¹Ø¯Ù„</span>
      <img class="thumb" src="https://i.imgur.com/lId6dIL.jpeg" alt="ARWhatsApp">
      <h3>ARWhatsApp</h3>
      <p class="desc">Ù†Ø³Ø®Ø© Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ø«ÙŠÙ…Ø§Øª ÙˆØ®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©.</p>
      <div class="meta">
        <span class="d-badge">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„Ø§Øª: <b class="dl">0</b></span>
        <span class="d-badge">â­ <b class="avg">0.0</b>/5</span>
      </div>
      <div class="stars" data-for="ar1"></div>
      <div class="rate-avg"></div>
      <div class="cta">
        <a class="a-btn" target="_blank" href="https://www.mediafire.com/file/e4syfoyn0xk8vv0/ARWhatsapp-v10.98.apk/file" onclick="trackDownload('ar1')">ØªØ­Ù…ÙŠÙ„</a>
      </div>
    </article>

    <!-- ARWhatsApp 2 -->
    <article class="card mod" data-id="ar2">
      <span class="tag">Ù…Ø¹Ø¯Ù„</span>
      <img class="thumb" src="https://i.imgur.com/lId6dIL.jpeg" alt="ARWhatsApp 2">
      <h3>ARWhatsApp2</h3>
      <p class="desc">Ù†Ø³Ø®Ø© Ø«Ø§Ù†ÙŠØ© Ù…ÙˆØ§Ø²ÙŠØ© Ù„ØªØ´ØºÙŠÙ„ Ø±Ù‚Ù…ÙŠÙ† Ø¨ÙˆÙ‚Øª ÙˆØ§Ø­Ø¯.</p>
      <div class="meta">
        <span class="d-badge">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„Ø§Øª: <b class="dl">0</b></span>
        <span class="d-badge">â­ <b class="avg">0.0</b>/5</span>
      </div>
      <div class="stars" data-for="ar2"></div>
      <div class="rate-avg"></div>
      <div class="cta">
        <a class="a-btn" target="_blank" href="https://www.mediafire.com/file/av616d5cuw1zq1h/ARWhatsapp2-v10.98.apk/file" onclick="trackDownload('ar2')">ØªØ­Ù…ÙŠÙ„</a>
      </div>
    </article>

    <!-- WhatsApp Gold Ø£Ø¨Ùˆ Ø±Ø¹Ø¯ -->
    <article class="card gold" data-id="gold-rad">
      <span class="tag">Ø°Ù‡Ø¨ÙŠ</span>
      <img class="thumb" src="https://i.imgur.com/eARy7J9.jpeg" alt="WhatsApp Gold Ø£Ø¨Ùˆ Ø±Ø¹Ø¯">
      <h3>WhatsApp Gold Ø£Ø¨ÙˆØ±Ø¹Ø¯</h3>
      <p class="desc">ÙˆØ§Ø¬Ù‡Ø© Ø°Ù‡Ø¨ÙŠØ© ÙØ§Ø®Ø±Ø© Ù…Ø¹ Ø®ØµØ§Ø¦Øµ Ø®ØµÙˆØµÙŠØ© ÙˆØªØ®ØµÙŠØµ Ù…ÙˆØ³Ø¹Ø©.</p>
      <div class="meta">
        <span class="d-badge">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„Ø§Øª: <b class="dl">0</b></span>
        <span class="d-badge">â­ <b class="avg">0.0</b>/5</span>
      </div>
      <div class="stars" data-for="gold-rad"></div>
      <div class="rate-avg"></div>
      <div class="cta">
        <a class="a-btn" target="_blank" href="https://www.mediafire.com/file/y4biqbbjbn95221/ARWhatsapp-gold-v10.98.apk/file" onclick="trackDownload('gold-rad')">ØªØ­Ù…ÙŠÙ„</a>
      </div>
    </article>

    <!-- WhatsApp Gold Ø£Ø¨Ùˆ Ø¹Ø±Ø¨ -->
    <article class="card gold" data-id="gold-arab">
      <span class="tag">Ø°Ù‡Ø¨ÙŠ</span>
      <img class="thumb" src="https://i.imgur.com/eARy7J9.jpeg" alt="WhatsApp Gold Ø£Ø¨Ùˆ Ø¹Ø±Ø¨">
      <h3>WhatsApp Gold Ø£Ø¨ÙˆØ¹Ø±Ø¨</h3>
      <p class="desc">Ø«ÙŠÙ… Ø°Ù‡Ø¨ÙŠ Ø¬Ø°Ø§Ø¨ Ù…Ø¹ Ù…Ø²Ø§ÙŠØ§ Ø¥Ø¶Ø§ÙÙŠØ© ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø±Ù†Ø©.</p>
      <div class="meta">
        <span class="d-badge">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„Ø§Øª: <b class="dl">0</b></span>
        <span class="d-badge">â­ <b class="avg">0.0</b>/5</span>
      </div>
      <div class="stars" data-for="gold-arab"></div>
      <div class="rate-avg"></div>
      <div class="cta">
        <a class="a-btn" target="_blank" href="https://upfileapp.9aleh.com/file/wa2-gold-abo9aleh-apk/" onclick="trackDownload('gold-arab')">ØªØ­Ù…ÙŠÙ„</a>
      </div>
    </article>
  </main>

  <!-- TOAST -->
  <div class="toast" id="toast">ØªÙ… Ø§Ù„Ù†Ø³Ø®</div>

  <!-- BACK TO TOP -->
  <button id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">â†‘</button>

  <script>
    // ===== SPLASH =====
    window.addEventListener('load', ()=> setTimeout(()=>document.getElementById('splash').style.display='none', 3400));

    // ===== SIDEBAR =====
    const sidebar=document.getElementById('sidebar');
    function toggleSidebar(){ sidebar.classList.toggle('open'); }

    // ===== SHARE =====
    function shareApp(){
      if(navigator.share){
        navigator.share({title:'Tro Wa', text:'ÙƒÙ„ Ù†Ø³Ø® ÙˆØ§ØªØ³Ø§Ø¨ ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯', url:location.href});
      }else{
        showToast('Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ´Ø§Ø±ÙƒÙ‡: ' + location.href);
      }
    }

    // ===== FILTER + SEARCH =====
    const chips=[...document.querySelectorAll('.chip')];
    function setFilter(btn){
      chips.forEach(c=>c.classList.remove('active'));
      btn.classList.add('active');
      filterAndSearch();
    }
    const searchInput=document.getElementById('searchInput');
    searchInput.addEventListener('input', filterAndSearch);
    function clearSearch(){ searchInput.value=''; filterAndSearch(); }

    function filterAndSearch(){
      const type=document.querySelector('.chip.active').dataset.filter;
      const q=searchInput.value.trim().toLowerCase();
      document.querySelectorAll('.card').forEach(card=>{
        const inType = (type==='all') || card.classList.contains(type);
        const text = card.innerText.toLowerCase();
        const show = inType && (q==='' || text.includes(q));
        card.style.display = show ? 'block':'none';
      });
    }

    // ===== BACK TO TOP =====
    const back=document.getElementById('backToTop');
    window.addEventListener('scroll', ()=>{ back.style.display = (document.documentElement.scrollTop>320)?'block':'none'; });

    // ===== TOAST =====
    function showToast(msg){
      const t=document.getElementById('toast');
      t.textContent=msg; t.classList.add('show');
      setTimeout(()=>t.classList.remove('show'),2200);
    }

    // ===== DOWNLOAD FAKE STATS + RATING =====
    const APPS=[
      'whatsapp','wabiz','gb','gbmas','ar1','ar2','gold-rad','gold-arab'
    ];

    // init localStorage defaults (fake baseline)
    function ensureDefaults(){
      const data = JSON.parse(localStorage.getItem('twData') || '{}');
      APPS.forEach(id=>{
        if(!data[id]) data[id]={downloads:rand(120,1500), ratings:[], avg:0};
      });
      localStorage.setItem('twData', JSON.stringify(data));
    }
    ensureDefaults();

    function getData(){ return JSON.parse(localStorage.getItem('twData')); }
    function setData(d){ localStorage.setItem('twData', JSON.stringify(d)); }

    function rand(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }

    function renderStats(){
      const data=getData();
      document.querySelectorAll('.card').forEach(card=>{
        const id=card.dataset.id;
        const d=data[id];
        if(!d) return;
        card.querySelector('.dl').textContent = d.downloads.toLocaleString('ar-EG');
        // set avg
        const avg = d.ratings.length ? (d.ratings.reduce((x,y)=>x+y,0)/d.ratings.length) : d.avg || 0;
        const fixed = avg.toFixed(1);
        card.querySelector('.avg').textContent = fixed;
        card.querySelector('.rate-avg').textContent = d.ratings.length ? `Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ù…Ù† ${d.ratings.length} ØµÙˆØª` : 'ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠÙ‚ÙŠÙ‘Ù… â­';
      });
    }

    // star UI
    function buildStars(){
      document.querySelectorAll('.stars').forEach(box=>{
        box.innerHTML='';
        for(let i=1;i<=5;i++){
          const s=document.createElement('span');
          s.className='star'; s.dataset.value=i; s.textContent='â­';
          s.addEventListener('click', ()=> rate(box.dataset.for, i));
          box.appendChild(s);
        }
      });
    }

    function rate(id, val){
      const data=getData();
      data[id]=data[id]||{downloads:0,ratings:[],avg:0};
      data[id].ratings.push(Number(val));
      // keep a running avg for performance
      const avg = data[id].ratings.reduce((a,b)=>a+b,0)/data[id].ratings.length;
      data[id].avg = avg;
      setData(data);
      renderStats();
      showToast(`Ø´ÙƒØ±Ø§Ù‹! ØªÙ… ØªØ³Ø¬ÙŠÙ„ ØªÙ‚ÙŠÙŠÙ…Ùƒ ${val} Ù†Ø¬ÙˆÙ… â­`);
    }

    function trackDownload(id){
      const data=getData();
      if(!data[id]) data[id]={downloads:0,ratings:[],avg:0};
      data[id].downloads++;
      setData(data);
      renderStats();
      // optional: simple local notification after click
      if(Notification && Notification.permission==='granted'){
        new Notification('Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„â€¦', { body:'Ø´ÙƒØ±Ù‹Ø§ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Tro Wa', icon:'' });
      }
    }

    // ===== NOTIFICATIONS =====
    function enableNoti(){
      if(!('Notification' in window)){ showToast('Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª'); return; }
      if(Notification.permission==='granted'){ showToast('Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…ÙØ¹Ù‘Ù„Ø©'); return; }
      Notification.requestPermission().then(p=>{
        if(p==='granted'){ showToast('ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª âœ…'); }
        else{ showToast('ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù† Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª'); }
      });
    }

    // demo notifier (from sidebar)
    function notifyUpdate(){
      if(!('Notification' in window)){ showToast('Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª'); return; }
      if(Notification.permission!=='granted'){ enableNoti(); return; }
      new Notification('ØªØ­Ø¯ÙŠØ«Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© âœ¨', {
        body:'ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¥ØµØ¯Ø§Ø±Ø§Øª Ù…Ø­Ø¯Ù‘Ø«Ø© Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù†Ø³Ø®. Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„Ø§Ø·Ù„Ø§Ø¹.',
        icon:''
      });
      showToast('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ');
    }

    // ===== INIT =====
    buildStars(); renderStats(); filterAndSearch();
  </script>
  <script type='text/javascript' src='//pl27584893.revenuecpmgate.com/92/7d/40/927d4036e83603f6f5fb93fb997e954f.js'></script>
</body>
</html>
